{% extends 'base.html' %}
{% load static %}
{% block content %}


<link rel="stylesheet" href="{% static 'css/main/main_page.css' %}" />

<div class="main-wrapper">
    <div class="category-bar">
      <a href="#">인기신상랭킹</a>
      <a href="#">입점특가</a>
      <a href="#">간편한끼</a>
      <a href="#">요즘간식</a>
      <a href="#">주방·리빙</a>
      <a href="#">뷰티</a>
      <a href="#">패션·잡화</a>
    </div>

    
    <div class="content-wrapper">

      
      <aside class="filter-sidebar">
        <div class="filter-header">
          <h4 class="filter">필터</h4>
          <div class="reset">
            <img class="reset-icon" src="{% static 'assets/reset.svg' %}" alt="reset">
            <p>초기화</p>
          </div>
        </div>
        <div class="category-filter">
          <p class="filter-title">카테고리</p>
          <img src="{% static 'assets/up.svg' %}" alt="reset">
        </div>
        <div class="category-detail">
          <ul>
            <li><label><input type="checkbox" /> 스킨케어·메이크업 <span class="number">68</span></label></li>
            <li><label><input type="checkbox" /> 럭셔리뷰티 <span class="number">24</span></label></li>
            <li><label><input type="checkbox" /> 간식·과자·떡 <span class="number">28</span></label></li>
          </ul>
        </div>
      </aside>

      <section class="product-section">
      <div class="sort-bar">
          <span class="total-count">총<span id="total-count-value">0</span>건</span>
          <div class="sort-options">
            <a href="#" class="active">추천순</a>
            <span class="divider-icon"></span>
            <a href="#">신상품순</a>
            <span class="divider-icon"></span>
            <a href="#">판매량순</a>
            <span class="divider-icon"></span>
            <a href="#">혜택순</a>
            <span class="divider-icon"></span>
            <a href="#">낮은 가격순</a>
            <span class="divider-icon"></span>
            <a href="#">높은 가격순</a>
          </div>
      </div>

      <div class="selected"></div>

      
      <div class="product-grid">
        {% for product in products %}
        <a href="{% url 'main:product_detail' product.id %}" class="product-card-link">
          <div class="product-card">
            <div class="product-img-box">
              <img src="{% static 'assets/fruit.png' %}" alt="{{ product.name }}">
            </div>
            
            <div class="cart">
              <svg xmlns="http://www.w3.org/2000/svg" width="25" height="24" viewBox="0 0 25 24" fill="none">
              <path d="M7.5 22C6.95 22 6.47917 21.8042 6.0875 21.4125C5.69583 21.0208 5.5 20.55 5.5 20C5.5 19.45 5.69583 18.9792 6.0875 18.5875C6.47917 18.1958 6.95 18 7.5 18C8.05 18 8.52083 18.1958 8.9125 18.5875C9.30417 18.9792 9.5 19.45 9.5 20C9.5 20.55 9.30417 21.0208 8.9125 21.4125C8.52083 21.8042 8.05 22 7.5 22ZM17.5 22C16.95 22 16.4792 21.8042 16.0875 21.4125C15.6958 21.0208 15.5 20.55 15.5 20C15.5 19.45 15.6958 18.9792 16.0875 18.5875C16.4792 18.1958 16.95 18 17.5 18C18.05 18 18.5208 18.1958 18.9125 18.5875C19.3042 18.9792 19.5 19.45 19.5 20C19.5 20.55 19.3042 21.0208 18.9125 21.4125C18.5208 21.8042 18.05 22 17.5 22ZM6.65 6L9.05 11H16.05L18.8 6H6.65ZM5.7 4H20.45C20.8333 4 21.125 4.17083 21.325 4.5125C21.525 4.85417 21.5333 5.2 21.35 5.55L17.8 11.95C17.6167 12.2833 17.3708 12.5417 17.0625 12.725C16.7542 12.9083 16.4167 13 16.05 13H8.6L7.5 15H18.5C18.7833 15 19.0208 15.0958 19.2125 15.2875C19.4042 15.4792 19.5 15.7167 19.5 16C19.5 16.2833 19.4042 16.5208 19.2125 16.7125C19.0208 16.9042 18.7833 17 18.5 17H7.5C6.75 17 6.18333 16.6708 5.8 16.0125C5.41667 15.3542 5.4 14.7 5.75 14.05L7.1 11.6L3.5 4H2.5C2.21667 4 1.97917 3.90417 1.7875 3.7125C1.59583 3.52083 1.5 3.28333 1.5 3C1.5 2.71667 1.59583 2.47917 1.7875 2.2875C1.97917 2.09583 2.21667 2 2.5 2H4.125C4.30833 2 4.48333 2.05 4.65 2.15C4.81667 2.25 4.94167 2.39167 5.025 2.575L5.7 4Z" fill="#333333"/>
              </svg>
              <button class="cart-btn">담기</button>
            </div>
            <div class="product-info">
              <p class="delivery-type">샛별배송</p>
              <p class="product-name">{{ product.name }}</p>
              <p class="product-desc">{{ product.description }}</p>
              <div class="price-info">
                <del>{{ product.origin_price }}원</del>
                <div class="real-price">
                  <span class="discount">{{ product.discount_rate }}%</span>
                  <p class="final">{{ product.discount_price }}원</p>
                </div>
              </div>
            </div>
          </div>
        </a>
        {% endfor %}
      </div>

    </section>
  </div>
</div>


<script src="{% static 'js/main/main_page.js' %}"></script>





{% endblock %}
